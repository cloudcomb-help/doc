# 多容器资源限制

当在一个副本中运行多个容器时，各个容器将会共享副本的计算资源（CPU 和内存）。当容器之间出现资源竞争的时候，需要通过资源限制设置确保各个容器能够获取足够的资源，正常运行。

## CPU 资源限制

蜂巢服务管理中的 CPU 权重，给出的是各个容器在竞争 CPU 资源时，可以获得的 CPU 计算资源的比例。

比如，容器 a 有 30% 的CPU 权重，容器 b 有 70% 的权重：

* 在一个 1 CPU（记为 1000 m）的副本上，容器 a 可以获得 300 m 的计算资源，而容器 b 可以获得 700 m 的计算资源；
* 在一个 2 CPU（记为 2000 m）的副本上，容器 a 可以获得 600 m 的计算资源，而容器 b 可以获得 1400 m 的计算资源。
* 在 CPU 资源无竞争的情况下，一个容器理论上可以使用到一个副本 100% 的 CPU 计算资源。

## 内存资源限制

蜂巢服务管理中的内存占比，给出的是各个容器可以使用的内存的最大值。当容器中的进程使用内存超过允许的最大值时，将会触发 OOM 机制。


