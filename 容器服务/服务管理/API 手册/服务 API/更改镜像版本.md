# 服务管理

## 更改镜像版本

<span>Note:</span><div class="alertContent">目前仅支持无状态服务。仅限于更换同一个镜像仓库内的镜像。</div>

### 请求 URL

`POST https://open.c.163.com/api/v1/microservices/{id}/actions/update-image`

### 请求示例

```http
PUT /api/v1/microservices/50883/actions/update-image HTTP/1.1
Host: open.c.163.com
Authorization: Token 5b17a473c90c443ca1f37ddcdd59ad0f
Content-Type: application/json

{
    "container_images": [
        {
            "container_id": 50883, 
            "image_path": "hub.c.163.com/public/ubuntu:14.04"
        }
    ], 
    "min_ready_seconds": 10
}
```

```shell
curl -X PUT -H "Authorization: Token 5b17a473c90c443ca1f37ddcdd59ad0f" -H "Content-Type: application/json" -d '{
    "container_images": [
        {
            "container_id": 50883, 
            "image_path": "hub.c.163.com/public/ubuntu:14.04"
        }
    ], 
    "min_ready_seconds": 10
}' "https://open.c.163.com/api/v1/microservices/50883/actions/update-image"
```

### 请求参数

|        参数       |  类型  | 是否必填 |                                  描述                                 |              示例值               |
|-------------------|--------|----------|-----------------------------------------------------------------------|-----------------------------------|
| id                | long   | 是       | 服务 id（[获取空间列表](http://59.111.120.124/?http#9-2)，[获取服务列表](http://59.111.120.124/?http#9-6)） | 50883                             |
| container_id      | long   | 是       | 容器 id（[查看服务详情](http://59.111.120.124/?http#9-7)）                               | 50883                             |
| image_path        | String | 是       | 待更新的镜像地址                                                      | hub.c.163.com/public/ubuntu:14.04 |
| min_ready_seconds | int    | 是       | 副本更新时间间隔，单位秒，取值范围：[1,600]                           | 10                                |